import{_ as u,r as h,o as c,c as l,b as m,a as t,t as d,i as f,v as _,d as b,h as g,F as v,f as y}from"./index-db33ef60.js";const x={data(){return{product:{},id:"",qty:1,isLoading:!1,btnLoading:!1,cartNum:0}},inject:["emitter"],methods:{getProduct(){this.isLoading=!0;const o=`https://vue3-course-api.hexschool.io/api/roger8426-api/product/${this.id}`;this.$http.get(o).then(s=>{s.data.success&&(this.product=s.data.product),this.isLoading=!1})},addCart(){const o="https://vue3-course-api.hexschool.io/api/roger8426-api/cart",s={product_id:this.id,qty:this.qty};this.btnLoading=!0,this.$http.post(o,{data:s}).then(r=>{r.data.success&&this.$http.get(o).then(i=>{i.data.success&&(this.cartNum=i.data.data.carts.length,this.emitter.emit("cart-num",this.cartNum),this.btnLoading=!1)})})}},created(){this.id=this.$route.params.productId,this.getProduct()}},w={class:"container px-0 mt-6 mb-6"},L={class:"row productInfo"},N={class:"col-8 px-0"},V=["src"],$={class:"col-4 ps-4 pe-0 d-flex flex-column justify-content-center"},C={class:"fw-bold"},k={class:"d-flex"},q={key:0,class:"spinner-border spinner-border-sm text-dark me-1",role:"status"},B=t("span",{class:"visually-hidden"},"Loading...",-1),I=[B],P=y('<button type="button" class="btn text-primary p-0 mt-3 me-2 w-50"><i class="bi bi-heart-fill me-1"></i> 加入收藏清單 </button><div class="d-flex flex-column mt-6"><h3 class="fs-5 fw-bold">商品購買須知</h3><p class="fs-5">商品情境照為示意用，不包含其他配件，商品外觀以廠商實際出貨為主。任何訂單變動均會在出貨訊息內更新。</p><h3 class="fs-5 fw-bold">退換貨須知</h3><p class="fs-5">依《消費者保護法》規定，全站購物皆享有【七日猶豫期】（含例假日）之權益。若商品有任何問題，可於猶豫期內申請退貨。</p></div>',2);function T(o,s,r,i,e,n){const p=h("LoadingView");return c(),l(v,null,[m(p,{active:e.isLoading},null,8,["active"]),t("div",w,[t("div",L,[t("div",N,[t("img",{src:e.product.imageUrl,alt:"",class:"w-100"},null,8,V)]),t("div",$,[t("div",null,[t("h2",C,d(e.product.title),1),t("p",null,d(e.product.description),1),t("p",null,d(`NT$${o.$filters.currency(e.product.price)}`),1)]),t("div",k,[f(t("input",{type:"number",class:"border-primary border-1 rounded-0 rounded-start py-3 ps-4 w-50",min:"1","onUpdate:modelValue":s[0]||(s[0]=a=>e.qty=a)},null,512),[[_,e.qty]]),t("button",{type:"button",class:"btn btn-primary p-0 rounded-0 rounded-end py-3 w-50",onClick:s[1]||(s[1]=(...a)=>n.addCart&&n.addCart(...a))},[this.btnLoading?(c(),l("div",q,I)):b("",!0),g(" 加入購物車 ")])]),P])])])],64)}const D=u(x,[["render",T]]);export{D as default};
