import{_ as u,r as h,o as d,c as n,e as _,d as t,F as c,g as p,t as e,f as g}from"./index-e3b22acb.js";const f={data(){return{orderId:"",order:{user:{}},isLoading:!1}},methods:{getOrder(){this.isLoading=!0;const l=`https://vue3-course-api.hexschool.io/api/roger8426-api/order/${this.orderId}`;this.$http.get(l).then(o=>{o.data.success&&(this.order=o.data.order,this.isLoading=!1)})},payOrder(){const l=`https://vue3-course-api.hexschool.io/api/roger8426-api/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(l).then(o=>{o.data.success&&this.getOrder()})}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},m={class:"my-5 row justify-content-center"},y={class:"table align-middle"},x=t("thead",null,[t("th",{class:"ps-2"},"品名"),t("th",{class:"ps-2"},"數量"),t("th",{class:"ps-2"},"單價")],-1),b={class:"text-end"},L=t("td",{colspan:"2",class:"text-end"},"總計",-1),k={class:"text-end"},v={class:"table"},O=t("th",{width:"100"},"Email",-1),I=t("th",null,"姓名",-1),V=t("th",null,"收件人電話",-1),w=t("th",null,"收件人地址",-1),B=t("th",null,"付款狀態",-1),C={key:0},N={key:1,class:"text-success"},E={class:"text-end"},F={key:0,class:"btn btn-danger"};function $(l,o,j,D,s,i){const a=h("LoadingView");return d(),n(c,null,[_(a,{active:s.isLoading},null,8,["active"]),t("div",m,[t("form",{class:"col-md-6",onClick:o[0]||(o[0]=(...r)=>i.payOrder&&i.payOrder(...r))},[t("table",y,[x,t("tbody",null,[(d(!0),n(c,null,p(s.order.products,r=>(d(),n("tr",{key:r.product.id},[t("td",null,e(r.product.title),1),t("td",null,e(r.product.num)+" / "+e(r.product.unit),1),t("td",b,e(r.product.price),1)]))),128))]),t("tfoot",null,[t("tr",null,[L,t("td",k,e(s.order.total),1)])])]),t("table",v,[t("tbody",null,[t("tr",null,[O,t("td",null,e(s.order.user.email),1)]),t("tr",null,[I,t("td",null,e(s.order.user.name),1)]),t("tr",null,[V,t("td",null,e(s.order.user.tel),1)]),t("tr",null,[w,t("td",null,e(s.order.user.address),1)]),t("tr",null,[B,t("td",null,[s.order.is_paid?(d(),n("span",N,"付款完成")):(d(),n("span",C,"尚未付款"))])])])]),t("div",E,[s.order.is_paid?g("",!0):(d(),n("button",F,"確認付款"))])])])],64)}const q=u(f,[["render",$]]);export{q as default};
